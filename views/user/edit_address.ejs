<%- include('../partials/header.ejs') %>

<main class="col-md-9 ms-sm-auto col-lg-12 px-md-4">
  <div
    class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"
  >
    <h1 class="h2">Edit Address</h1>
    <form action="/user/delete/address/<%= addId %>" method="post">
      <button
        class="btn-sm btn-outline-danger btn mt-2"
        onclick="return confirm('Are you sure to delete this <%= type %> address')"
      >
        Delete
      </button>
    </form>
  </div>
  <div class="container">
    <form action="/user/edit/address/<%= addId %>" method="post">
      <label for="">Type</label>
      <select
        name="type"
        class="form-select form-select mb-4"
        aria-label=".form-select-sm example"
      >
        <% if(type) { %>
        <option selected><%= type %></option>
        <% } else { %>
        <option selected>home</option>
        <% } %> <% if(type === "home") { %>
        <option value="office">office</option>
        <% } else if(type === "office") { %>
        <option value="home">home</option>
        <% } else { %>
        <option value="home">home</option>
        <option value="office">office</option>
        <% } %>
      </select>
      <label for="">Name</label>
      <input
        type="text"
        name="name"
        pattern="^(?=.{3,20}$)(?![_.])(?!.*[_.]{2})[a-zA-Z._]+(?<![_.])$"
        required
        class="form-control mb-4"
        value="<%= name %>"
      />

      <label for="">Phone no</label>
      <input
        type="tel"
        name="phone_no"
        class="form-control mb-4"
        value="<%= phone_no %>"
        pattern="^(?!0+$)(\+\d{1,3}[- ]?)?(?!0+$)\d{10}$"
        required
      />

      <label for="">Country</label>
      <input
        type="text"
        name="country"
        class="form-control mb-4"
        value="<%= country %>"
        pattern="^(?=.{2,20}$)(?![_.])(?!.*[_.]{2})[a-zA-Z._]+(?<![_.])$"
        required
      />

      <label for="">City</label>
      <input
        type="text"
        name="city"
        class="form-control mb-4"
        value="<%= city %>"
        pattern="^(?=.{2,20}$)(?![_.])(?!.*[_.]{2})[a-zA-Z._]+(?<![_.])$"
        required
      />

      <label for="">Pincode</label>
      <input
        type="number"
        name="pincode"
        class="form-control mb-4"
        value="<%= pincode %>"
        pattern="^[1-9]{1}[0-9]{2}\\s{0, 1}[0-9]{3}$"
        required
      />

      <button type="submit" class="btn btn-success">Submit</button>
      <a href="/user/address"
        ><button type="button" class="btn btn-outline-danger">Cancel</button></a
      >
    </form>
  </div>
</main>

<%- include('../partials/footer.ejs') %>
